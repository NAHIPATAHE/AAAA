<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Elite Prediction System</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="wrapper">
        <!-- Login Container -->
        <div id="loginContainer" class="card">
            <h2>Login</h2>
            <input type="text" id="userId" placeholder="User ID" class="input-field" aria-label="User ID">
            <input type="password" id="password" placeholder="Password" class="input-field" aria-label="Password">
            <button class="btn primary-btn" onclick="login()">Login</button>
            <button class="btn secondary-btn" onclick="showRegisterForm()">Register</button>
            <button class="btn info-btn" onclick="showGetPassInfo()">Info</button>
        </div>

        <!-- Register Container -->
        <div id="registerContainer" class="card" style="display: none;">
            <h2>Register</h2>
            <input type="text" id="newUserId" placeholder="New User ID" class="input-field" aria-label="New User ID">
            <input type="password" id="newPassword" placeholder="New Password" class="input-field" aria-label="New Password">
            <input type="password" id="confirmPassword" placeholder="Confirm Password" class="input-field" aria-label="Confirm Password">
            <button class="btn primary-btn" onclick="register()">Register</button>
            <button class="btn secondary-btn" onclick="backToLogin()">Back</button>
        </div>

        <!-- Prediction Container -->
        <div id="predictionContainer" class="card" style="display: none;">
            <div class="header">
                <h2>Prediction Dashboard</h2>
                <button class="btn logout-btn" onclick="logout()">Logout</button>
            </div>
            <div class="profile-section">
                <p>Welcome, <span id="currentUser">User</span>!</p>
                <label class="switch" title="Toggle Dark Mode">
                    <input type="checkbox" id="darkModeToggle" onchange="toggleDarkMode()">
                    <span class="slider"></span>
                </label>
            </div>
            <div id="periodNumber" class="info-box">Period: 0000</div>
            <div id="prediction" class="prediction-box">[Waiting for prediction]</div>
            <button class="btn primary-btn" onclick="openAdjustPeriodModal()">Adjust Period</button>
            <div class="history-section">
                <h3>Prediction History</h3>
                <input type="text" id="historyFilter" placeholder="Filter by period or date" class="input-field" oninput="filterHistory()">
                <ul id="historyList" class="history-list"></ul>
                <button class="btn info-btn" onclick="exportHistory()">Export History</button>
            </div>
        </div>

        <!-- Admin Panel -->
        <div id="adminContainer" class="card" style="display: none;">
            <div class="header">
                <h2>Admin Dashboard</h2>
                <button class="btn logout-btn" onclick="logout()">Logout</button>
            </div>
            <div class="admin-stats">
                <p>Total Users: <span id="totalUsers">0</span></p>
                <p>Total Predictions: <span id="totalPredictions">0</span></p>
            </div>
            <div class="user-list">
                <h3>Manage Users</h3>
                <ul id="userList" class="history-list"></ul>
                <button class="btn danger-btn" onclick="clearUsers()">Clear All Users</button>
            </div>
        </div>

        <!-- Error Modal -->
        <div id="errorModal" class="modal">
            <div class="modal-content">
                <h3>Error</h3>
                <p class="error-message">An error occurred</p>
                <button class="btn primary-btn" onclick="closeModal()">Close</button>
            </div>
        </div>

        <!-- Adjust Period Modal -->
        <div id="adjustPeriodModal" class="modal">
            <div class="modal-content">
                <h3>Adjust Period</h3>
                <input type="number" id="newPeriod" placeholder="Enter new period number" class="input-field" aria-label="New Period">
                <button class="btn primary-btn" onclick="updatePeriod()">Update</button>
                <button class="btn secondary-btn" onclick="closeAdjustPeriodModal()">Cancel</button>
            </div>
        </div>

        <!-- Toast Notification -->
        <div id="toast" class="toast"></div>
    </div>

    <script src="script.js"></script>
</body>
</html>